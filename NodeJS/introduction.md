# Introduction to NodeJS
_from Node.js 인 액션

## Introduction
  - Node.js? "크롬의 자바스크립트 실행 환경에 기반을 둔 빠르고 확장성 있는 네트워크 애플리케이션을 만들기 위한 플랫폼"
  - 비동기와 이벤트를 사용한다.
  - 데이터 집약적 실시간 어플리케이션(DIRTy: Data-intensive real-time)을 위해 설계됐다.

## 다중 채팅방 애플리케이션 만들기
  - skip
  
## 노트 프로그래밍의 기본
  1. 코드를 관리하는 방법
    - 노드의 기능 관리와 재사용
        - 코드를 재사용하지만 전역 범위에 영향을 미치지는 않는다. 
            1. `exports`로 모듈 분리
                - `exports.myFunc = function() {}`의 형태로 선언해서 모듈화가 가능하다.
                - `var exFunc = require(/...PATH/FILE_NAME); exFunc.myFunc();`의 형태로 모듈을 불러와 사용할 수 있다. 
                    - 파일명 확장자가 `.js`라면 빼고 입력 가능하다.
                    - 파일 경로가 `./`로 시작하면 실행 중인 프로그램 파일과 같은 디렉터리에서 모듈을 찾는다.
            2. `module.exports`로 모듈 분리
                - `module.exports` 메커니즘은 모듈이 하나의 변수나 함수 또는 객체를 반환할 수 있게 한다.
                - `module.exports`는 `exports`의 참조를 끊어놓는다.
            3. node_modules 디렉터리로 모듈 재사용하기
                - 모듈의 위치와 상관없이 모듈을 사용할 수 있는 매커니즘
                - node_modules 디렉터리에 넣어두기만 하면 경로 없이 `require(FILE_NAME)`으로 사용할 수 있다.
                - 다만 오픈소스에 적합한 방법은 아니다. 
              
  2. 비동기 프로그래밍의 동작 원리
    - 노드에서는 주로 콜백과 이벤트 리스너 모델을 사용해 응답 로직을 관리한다.
    - 이벤트 리스너는 개념적 요소인 이벤트(사건)에 연관된 콜백이라고 볼 수 있다. (예 => `server.on('request', handleRequest)`)
        1. 일회성 이벤트에 대한 응답 방식 (콜백)
            - 예 => 데이터베이스에 쿼리문을 날리는 경우, 쿼리의 결과에 따른 작업을 설정하는 것
            
        2. 반복적인 이벤트에 대한 처리 방식
            - 예 => 노드의 TCP 소켓은 data라는 이벤트를 가지고 있는데 이 이벤트는 소켓에서 새로운 데이터가 도착할 때마다 발생한다. `socket.on('data', handleData)`
            - `once` 메서드를 사용하면 이벤트에 한번만 응답하도록 할 수 있다. `socket.once('data', handleData)`
            
        3. 비동기 로직의 실행 순서를 정하는 방식
            - 비동기 작업을 배열하는 개념, 흐름 제어(Control Flow). 이 흐름 제어에는 직렬(Serial)과 병렬(Parallel) 방식이 있다.
            - 직렬 방식: 어떠한 작업이 실행된 후에 다른 작업이 실행되는 방식 (예 => 디렉터리를 생성하고 파일을 저장하는 경우)
                - 현재 실행중인 작업을 추적하고 대기 작업을 관리해야 한다.
            - 병렬 방식: 어떠한 작업이 다른 작업 이후에 실행될 필요가 없는 방식, 개별적으로는 각 작업의 시작과 종료 순서가 상관 없지만 다음 로직이 실행되기 전에는 모든 작업이 완료되어야한다. (예 => 압축하는 경우)
                - 현재까지 완료된 작업을 추적할 수 있어야 한다.
  
  3. HTTP 서버의 기본
    - 통신 방법: 웹 브라우저와 웹 서버가 요청하고 응답하는 과정에 사용되는 방
    - 노드가 HTTP 요청을 개발자에게 전달하는 방법
    ```
    var http = require('http');
    var server = http.createServer(function(req, res) {
        // req: 요청(request), res: 응답(response)
        // handle request
    });
    ```
    - `res.end()` 메서드를 호출해 응답을 완료하기 전까지 어떠한 비동기 로직도 실행할 수 있다.
    - **RESTful 웹 서비스란?** HTTP 메서드의 동사를 활용해 만든 서비스, 구현이 간단하다.
    - `res.method` 속성값을 이용해 어떤 HTTP 메서드(동사)가 사용됐는지 판단할 수 있다.
    